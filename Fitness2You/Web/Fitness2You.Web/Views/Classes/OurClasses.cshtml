@model IList<ClassesViewModel>
@{
    ViewData["Title"] = "Classes page";
}

<main class="site-content admin">
    @if (this.User.IsInRole("Admin"))
    {
        <h2>Welcome ADMIN!</h2>
        <section class="nav">
            <section class="site-wrapper">
                <nav class="admin-nav">
                    <a asp-controller="Subscriptions" asp-action="OurSubsctiprions">Subscriptions</a>
                    <a asp-controller="Classes" asp-action="OurClasses" class="active">Classes</a>
                    <a asp-controller="Users" asp-action="AllUser">Users</a>
                    <a asp-controller="Trainers" asp-action="Employees">Trainers</a>
                    <a asp-controller="Contact" asp-action="ContactMe">Contacts</a>
                </nav>
            </section>
        </section>
    }
    <section class="site-wrapper">
        <section class="main">
            @if (this.User.IsInRole("Admin"))
            {
                <section class="add-section">
                    <a href="#">
                        <i class="fas fa-plus-circle"></i>
                    </a>
                </section>
            }
            <section class="classes">
                @foreach (var classes in Model)
                {
                <article class="class">
                    <section class="class-img">
                        <img src="@classes.ImageUrl" alt="Image not found!">
                    </section>
                    <section class="class-name">@classes.Name</section>
                    <section class="class-price">@classes.Price €</section>
                    <section class="class-discount">@classes.Discount %</section>
                    @if (classes.IsActive == "True")
                    {
                        <section class="class-status">Active!</section>
                    }
                    else
                    {
                        <section class="class-status">No Active!</section>
                    }
                    @if (this.User.IsInRole("Admin"))
                    {
                        <section class="card-actions">
                            <a href="#" class="view">View</a>
                            <a href="#" class="edit">Edit</a>
                            <a href="#" class="delete">Delete</a>
                        </section>
                    }
                    else if (this.User.IsInRole("User"))
                    {
                        <section class="card-actions">
                            <a href="#" class="view">View</a>
                            <a href="#" class="edit">Take me</a>
                        </section>
                    }
                </article>
                }
            </section>
        </section>
    </section>
</main>